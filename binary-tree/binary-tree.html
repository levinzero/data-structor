<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>binary-tree</title>
	<link rel="stylesheet" href="">
</head>
<body>
	
	<script  type="text/javascript" charset="utf-8">
		
		//创建一个排序二叉树
		//
		function BinaryTree() {
			var Node = function(key) {
				this.key = key
				this.left = null
				this.right = null
			}

			var root = null

			var insertNode = function(node, newNode) {
				if(node !== null) {
					if(newNode.key < node.key) {
						insertNode(node.left, newNode)
						if(node.left == null) {
							node.left = newNode
						}
					}else{
						insertNode(node.right, newNode)
						if(node.right == null) {
							node.right = newNode
						}
					}
				}

				return null
			}

			//插入节点
			this.insert = function(key) {
				var newNode = new Node(key)
				if(root === null) {
					root = newNode
				}else {
					insertNode(root, newNode)
				}
			}

			// 返回排序二叉树
			this.getTree = function() {
				return root
			}


			// 二叉树遍历
			// 
			// 1：前序遍历
			
			var preOrderTraverseNode = function(node, callback) {
				if(node !== null) {
					preOrderTraverseNode(node.left, callback)
					callback(node)
					preOrderTraverseNode(node.right, callback)
				}
			}

			this.preOrderTraverse = function(callback) {
				preOrderTraverseNode(root, callback)
			}

			// 中序遍历
			// 
			var inOrderTraverseNode = function(node, callback) {
				if(node !==null ) {
					callback(node)
					inOrderTraverseNode(node.left, callback)
					inOrderTraverseNode(node.right, callback)
				}
			}

			this.inOrderTraverse = function(callback) {
				inOrderTraverseNode(root, callback)
			}


			// 后序遍历
			// 
			var postOrderTraverseNode = function(node, callback) {
				if(node !== null) {
					postOrderTraverseNode(node.left, callback)
					postOrderTraverseNode(node.right, callback)
					callback(node)
				}
			}


			this.postOrderTraverse = function(callback) {
				postOrderTraverseNode(root, callback)
			}
		}


		var tree = new BinaryTree()
		var nodes = [8, 3, 10, 1, 6, 14, 4, 7, 11, 15]
		nodes.forEach(function(item) {
			tree.insert(item)
		})

		console.log(tree.getTree())

		var preOrderCallback = function(node) {
			console.log(node.key)
		}


		tree.preOrderTraverse(preOrderCallback)

		var inOrderCallback = function(node) {
			console.log(node.key)
		}

		tree.inOrderTraverse(inOrderCallback)


		var postOrderCallback = function(node) {
			console.log(node.key)
		}

		tree.postOrderTraverse(postOrderCallback)





	</script>
</body>
</html>